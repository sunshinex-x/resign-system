import{m as w,p as m,N as x,o as V,e as h,f as o,w as r,O as E,h as c,P as k,B,D as F,Q as R,R as N,S as U,U as b}from"./index-df968ec9.js";/* empty css                *//* empty css                 */import{_ as C}from"./_plugin-vue_export-helper-8da67cfc.js";import{u as I}from"./auth-c297849c.js";import"./request-5c3d6a99.js";const S={class:"login-container"},q={__name:"index",setup(K){const p=w(),_=I(),t=m(null),l=m(!1),s=x({username:"admin",password:"123456"}),f={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},u=async()=>{t.value&&t.value.validate(async d=>{if(d){l.value=!0;try{(await _.login(s)).success&&(F.success("登录成功"),p.push("/"))}catch(e){console.error("登录失败:",e)}finally{l.value=!1}}else return!1})};return(d,e)=>{const i=R,a=N,g=U,y=b,v=E;return V(),h("div",S,[o(v,{class:"login-card"},{default:r(()=>[e[3]||(e[3]=c("div",{class:"login-header"},[c("h2",null,"应用重签名管理系统")],-1)),o(y,{model:s,rules:f,ref_key:"loginFormRef",ref:t,class:"login-form"},{default:r(()=>[o(a,{prop:"username"},{default:r(()=>[o(i,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=n=>s.username=n),placeholder:"用户名","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(a,{prop:"password"},{default:r(()=>[o(i,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=n=>s.password=n),type:"password",placeholder:"密码","prefix-icon":"Lock",onKeyup:k(u,["enter"])},null,8,["modelValue"])]),_:1}),o(a,null,{default:r(()=>[o(g,{loading:l.value,type:"primary",style:{width:"100%"},onClick:u},{default:r(()=>e[2]||(e[2]=[B(" 登录 ",-1)])),_:1,__:[2]},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1,__:[3]})])}}},Q=C(q,[["__scopeId","data-v-34c3ef28"]]);export{Q as default};
