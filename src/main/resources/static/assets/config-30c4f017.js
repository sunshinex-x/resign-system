import{N as C,V as Q,o as E,e as D,f as e,w as t,D as a,O as N,h as c,B as r,t as y,Y as j,S as K,Q as B,R as H,aa as $,U as q,ad as A,ae as F}from"./index-df968ec9.js";/* empty css                             *//* empty css                *//* empty css                 *//* empty css                        */import{_ as J}from"./_plugin-vue_export-helper-8da67cfc.js";import{f as P}from"./validate-ec87a090.js";import{s as g}from"./request-5c3d6a99.js";function Y(){return g({url:"/api/config/resign",method:"get"})}function z(p){return g({url:"/api/config/resign",method:"post",data:p})}function G(){return g({url:"/api/config/minio",method:"get"})}function L(p){return g({url:"/api/config/minio",method:"post",data:p})}function W(p){return g({url:"/api/config/minio/test",method:"post",data:p})}function X(){return g({url:"/api/config/rabbitmq",method:"get"})}function Z(p){return g({url:"/api/config/rabbitmq",method:"post",data:p})}function ee(p){return g({url:"/api/config/rabbitmq/test",method:"post",data:p})}function oe(){return g({url:"/api/system/info",method:"get"})}const te={class:"app-container"},le={class:"card-header"},ne={class:"header-buttons"},ae={class:"card-header"},se={class:"header-buttons"},re={class:"card-header"},ie={class:"header-buttons"},de={class:"card-header"},ue={__name:"config",setup(p){const i=C({tempDir:"",retryCount:3,timeoutSeconds:1800,iosSignTool:"",androidSignTool:"",harmonySignTool:""}),u=C({endpoint:"",accessKey:"",secretKey:"",bucketName:""}),d=C({host:"",port:5672,username:"",password:"",virtualHost:"/"}),f=C({version:"",javaVersion:"",startTime:null,uptime:"",memoryUsage:"",cpuUsage:"",diskUsage:"",activeThreads:0}),R=async()=>{try{const n=await Y();Object.assign(i,n.data),a.success("重签名配置刷新成功")}catch(n){console.error("获取重签名配置失败:",n),a.error("获取重签名配置失败")}},k=async()=>{try{await z(i),a.success("重签名配置保存成功")}catch(n){console.error("保存重签名配置失败:",n),a.error("保存重签名配置失败")}},U=async()=>{try{const n=await G();Object.assign(u,n.data),a.success("MinIO配置刷新成功")}catch(n){console.error("获取MinIO配置失败:",n),a.error("获取MinIO配置失败")}},w=async()=>{try{await L(u),a.success("MinIO配置保存成功")}catch(n){console.error("保存MinIO配置失败:",n),a.error("保存MinIO配置失败")}},O=async()=>{try{const n=await X();Object.assign(d,n.data),a.success("RabbitMQ配置刷新成功")}catch(n){console.error("获取RabbitMQ配置失败:",n),a.error("获取RabbitMQ配置失败")}},I=async()=>{try{await Z(d),a.success("RabbitMQ配置保存成功")}catch(n){console.error("保存RabbitMQ配置失败:",n),a.error("保存RabbitMQ配置失败")}},h=async()=>{try{await W(u),a.success("MinIO连接测试成功")}catch(n){console.error("MinIO连接测试失败:",n),a.error("MinIO连接测试失败")}},x=async()=>{try{await ee(d),a.success("RabbitMQ连接测试成功")}catch(n){console.error("RabbitMQ连接测试失败:",n),a.error("RabbitMQ连接测试失败")}},S=async()=>{try{const n=await oe();Object.assign(f,n.data),a.success("系统信息已刷新")}catch(n){console.error("获取系统信息失败:",n),a.error("获取系统信息失败")}};return Q(()=>{R(),U(),O(),S()}),(n,o)=>{const b=K,m=B,s=H,M=$,v=q,V=N,_=A,T=F;return E(),D("div",te,[e(V,{class:"config-card"},{header:t(()=>[c("div",le,[o[17]||(o[17]=c("span",null,"重签名配置",-1)),c("div",ne,[e(b,{type:"success",onClick:R,icon:"Refresh"},{default:t(()=>o[15]||(o[15]=[r("刷新",-1)])),_:1,__:[15]}),e(b,{type:"primary",onClick:k,icon:"Check"},{default:t(()=>o[16]||(o[16]=[r("保存配置",-1)])),_:1,__:[16]})])])]),default:t(()=>[e(v,{model:i,"label-width":"150px",class:"config-form"},{default:t(()=>[e(s,{label:"临时文件目录"},{default:t(()=>[e(m,{modelValue:i.tempDir,"onUpdate:modelValue":o[0]||(o[0]=l=>i.tempDir=l),placeholder:"请输入临时文件存储目录"},null,8,["modelValue"])]),_:1}),e(s,{label:"任务重试次数"},{default:t(()=>[e(M,{modelValue:i.retryCount,"onUpdate:modelValue":o[1]||(o[1]=l=>i.retryCount=l),min:0,max:10},null,8,["modelValue"])]),_:1}),e(s,{label:"任务超时时间(秒)"},{default:t(()=>[e(M,{modelValue:i.timeoutSeconds,"onUpdate:modelValue":o[2]||(o[2]=l=>i.timeoutSeconds=l),min:60,max:7200},null,8,["modelValue"])]),_:1}),e(s,{label:"iOS签名工具路径"},{default:t(()=>[e(m,{modelValue:i.iosSignTool,"onUpdate:modelValue":o[3]||(o[3]=l=>i.iosSignTool=l),placeholder:"请输入iOS签名工具路径"},null,8,["modelValue"])]),_:1}),e(s,{label:"Android签名工具路径"},{default:t(()=>[e(m,{modelValue:i.androidSignTool,"onUpdate:modelValue":o[4]||(o[4]=l=>i.androidSignTool=l),placeholder:"请输入Android签名工具路径"},null,8,["modelValue"])]),_:1}),e(s,{label:"HarmonyOS签名工具路径"},{default:t(()=>[e(m,{modelValue:i.harmonySignTool,"onUpdate:modelValue":o[5]||(o[5]=l=>i.harmonySignTool=l),placeholder:"请输入HarmonyOS签名工具路径"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),e(V,{class:"config-card",style:{"margin-top":"20px"}},{header:t(()=>[c("div",ae,[o[20]||(o[20]=c("span",null,"MinIO存储配置",-1)),c("div",se,[e(b,{type:"success",onClick:U,icon:"Refresh"},{default:t(()=>o[18]||(o[18]=[r("刷新",-1)])),_:1,__:[18]}),e(b,{type:"primary",onClick:w,icon:"Check"},{default:t(()=>o[19]||(o[19]=[r("保存配置",-1)])),_:1,__:[19]})])])]),default:t(()=>[e(v,{model:u,"label-width":"150px",class:"config-form"},{default:t(()=>[e(s,{label:"服务端点"},{default:t(()=>[e(m,{modelValue:u.endpoint,"onUpdate:modelValue":o[6]||(o[6]=l=>u.endpoint=l),placeholder:"请输入MinIO服务端点"},null,8,["modelValue"])]),_:1}),e(s,{label:"访问密钥"},{default:t(()=>[e(m,{modelValue:u.accessKey,"onUpdate:modelValue":o[7]||(o[7]=l=>u.accessKey=l),placeholder:"请输入访问密钥"},null,8,["modelValue"])]),_:1}),e(s,{label:"秘密密钥"},{default:t(()=>[e(m,{modelValue:u.secretKey,"onUpdate:modelValue":o[8]||(o[8]=l=>u.secretKey=l),type:"password",placeholder:"请输入秘密密钥"},null,8,["modelValue"])]),_:1}),e(s,{label:"存储桶名称"},{default:t(()=>[e(m,{modelValue:u.bucketName,"onUpdate:modelValue":o[9]||(o[9]=l=>u.bucketName=l),placeholder:"请输入存储桶名称"},null,8,["modelValue"])]),_:1}),e(s,{label:"连接测试"},{default:t(()=>[e(b,{type:"success",onClick:h},{default:t(()=>o[21]||(o[21]=[r("测试连接",-1)])),_:1,__:[21]})]),_:1})]),_:1},8,["model"])]),_:1}),e(V,{class:"config-card",style:{"margin-top":"20px"}},{header:t(()=>[c("div",re,[o[24]||(o[24]=c("span",null,"RabbitMQ消息队列配置",-1)),c("div",ie,[e(b,{type:"success",onClick:O,icon:"Refresh"},{default:t(()=>o[22]||(o[22]=[r("刷新",-1)])),_:1,__:[22]}),e(b,{type:"primary",onClick:I,icon:"Check"},{default:t(()=>o[23]||(o[23]=[r("保存配置",-1)])),_:1,__:[23]})])])]),default:t(()=>[e(v,{model:d,"label-width":"150px",class:"config-form"},{default:t(()=>[e(s,{label:"服务器地址"},{default:t(()=>[e(m,{modelValue:d.host,"onUpdate:modelValue":o[10]||(o[10]=l=>d.host=l),placeholder:"请输入RabbitMQ服务器地址"},null,8,["modelValue"])]),_:1}),e(s,{label:"端口"},{default:t(()=>[e(M,{modelValue:d.port,"onUpdate:modelValue":o[11]||(o[11]=l=>d.port=l),min:1,max:65535},null,8,["modelValue"])]),_:1}),e(s,{label:"用户名"},{default:t(()=>[e(m,{modelValue:d.username,"onUpdate:modelValue":o[12]||(o[12]=l=>d.username=l),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),e(s,{label:"密码"},{default:t(()=>[e(m,{modelValue:d.password,"onUpdate:modelValue":o[13]||(o[13]=l=>d.password=l),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),e(s,{label:"虚拟主机"},{default:t(()=>[e(m,{modelValue:d.virtualHost,"onUpdate:modelValue":o[14]||(o[14]=l=>d.virtualHost=l),placeholder:"请输入虚拟主机"},null,8,["modelValue"])]),_:1}),e(s,{label:"连接测试"},{default:t(()=>[e(b,{type:"success",onClick:x},{default:t(()=>o[25]||(o[25]=[r("测试连接",-1)])),_:1,__:[25]})]),_:1})]),_:1},8,["model"])]),_:1}),e(V,{class:"config-card",style:{"margin-top":"20px"}},{header:t(()=>[c("div",de,[o[27]||(o[27]=c("span",null,"系统信息",-1)),e(b,{type:"success",onClick:S},{default:t(()=>o[26]||(o[26]=[r("刷新",-1)])),_:1,__:[26]})])]),default:t(()=>[e(T,{column:2,border:""},{default:t(()=>[e(_,{label:"系统版本"},{default:t(()=>[r(y(f.version),1)]),_:1}),e(_,{label:"Java版本"},{default:t(()=>[r(y(f.javaVersion),1)]),_:1}),e(_,{label:"启动时间"},{default:t(()=>[r(y(j(P)(f.startTime)),1)]),_:1}),e(_,{label:"运行时长"},{default:t(()=>[r(y(f.uptime),1)]),_:1}),e(_,{label:"内存使用"},{default:t(()=>[r(y(f.memoryUsage),1)]),_:1}),e(_,{label:"CPU使用率"},{default:t(()=>[r(y(f.cpuUsage),1)]),_:1}),e(_,{label:"磁盘使用"},{default:t(()=>[r(y(f.diskUsage),1)]),_:1}),e(_,{label:"活跃线程数"},{default:t(()=>[r(y(f.activeThreads),1)]),_:1})]),_:1})]),_:1})])}}},Ve=J(ue,[["__scopeId","data-v-982d5e23"]]);export{Ve as default};
